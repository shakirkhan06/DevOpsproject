package com.niit.controllers;
import javax.servlet.http.HttpServletRequest;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

import com.niit.model.UserModel;



@Controller
public class IndexController {
	@Autowired
	private UserDao user1
 
	@RequestMapping( "/")
	public ModelAndView welcome() 
	{
		 ModelAndView mv = new ModelAndView("index");
		return mv;
	}
	@RequestMapping("/login")
	public ModelAndView login() 
	{
		 ModelAndView mv = new ModelAndView("login");
		  return mv;
	}
	   @RequestMapping(value="/reg")
	  	public ModelAndView regpage()
	  	{
	  		ModelAndView m2=new ModelAndView("registerpage");
	  		return m2;
	  		
	  	}
	   @RequestMapping(value ="/registerpage")
	   public ModelAndView addUser(HttpServletRequest request)
	   {
	       
			
		  // int u_id=Integer.valueOf(request.getParameter("userid"));
			
		   int u_id=Integer.parseInt(request.getParameter("userid"));
		   
		   String u_name=request.getParameter("username");
		   
		   String u_pass=request.getParameter("userpass");
		   
		   String u_addr=request.getParameter("useraddress");
		   
		   String u_mail=request.getParameter("usermail");
		   
		   int u_age=Integer.valueOf(request.getParameter("userage"));
		   
		   //int u_age=Integer.parseInt(request.getParameter("userage"));
		   
		   String u_city=request.getParameter("usercity");
		   String u_phone=request.getParameter("userphone");
		   
		   //int u_phone=Integer.valueOf(request.getParameter("userphone"));
		   
		  // int u_phone=Integer.parseInt(request.getParameter("userphone"));
		   
		   String u_gen=request.getParameter("usergen");
		   
		   
		   
		   UserModel u=new UserModel();
		   u.setUser_Id(u_id);
		   u.setUserName(u_name);
		   u.setUserPassword(u_pass);
		   u.setUserAge(u_age);
		   u.setUser_Gender(u_gen);
		   u.setUser_Phone(u_phone);
		   u.setUserMailId(u_mail);
		   u.setUser_Address(u_addr);
		   u.setUserRole("User");
		  /* u.setUserid(u_id);
		   u.setName(u_name);
		   u.setPassword(u_pass);
		   u.setAddress(u_addr);
		   u.setEmail(u_mail);
		   u.setAge(u_age);
		   u.setCity(u_city);
		   u.setPhone(u_phone);
		   u.setGender(u_gen);
		   u.setRole("User");*/
		   user1.addUser(u);
			System.out.println(u.getUserid());
			
			ModelAndView mv = new ModelAndView("index");
			return mv;
	   }
	/*@RequestMapping("/Adding")
	public ModelAndView Adding() 
	{
		 ModelAndView mv = new ModelAndView("Adding");
		  return mv;
	}*/

	/*@RequestMapping("/AddingSupplier")
	public ModelAndView AddingSupplier() 
	{
		 ModelAndView mv = new ModelAndView("AddingSupplier");
		  return mv;
	}*/
	@RequestMapping("/productTable")
	public ModelAndView productTable() 
	{
		return null;
		
		 /* MobileStoreDao ms=new MobileStoreDaoImpl();
		  ms.addProduct(new MobileStore(101,"Opo","SmartPhone","Oppo","A37",10000,50,"BigMobile","16px Camera"));
		  ms.addProduct(new MobileStore(102,"Samsung Galaxy Duos ","SmartPhone","Samsung","s124",15000,50,"BigMobile","16px Camera"));
		  ms.addProduct(new MobileStore(103,"Oppo Selfi xPlus","SmartPhone","Oppo","xPlus",18000,50,"BigMobile","18px Camera"));
				//return back to index.jsp
				ModelAndView model = new ModelAndView("MobileStore_Product");
				model.addObject("prodD", ms);

				return model;*/
			}
			
}
